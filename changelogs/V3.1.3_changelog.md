# Version 3.1.3 - Theming is now unique to each user, new Translations System, Major Improvements to Dark Mode on Mobile and more! üé®üåçü¶ö

## New Features / Changes

### Theming is now unique to users, no longer server-wide! ‚òÄÔ∏è/üåë üéâ

- In CW & pervious versions of CWA, **the theming of the Web UI has always been Global**, which has often been inconvenient for those with servers with lots of users as it could result in the theming of the Web UI frequently and unexpectedly changing for everyone
- **Well no more!** üéâ
- As of **V3.1.3**, the theming of the Web UI is **no longer global and is set per User Settings**!
- Users can of course still change Theme using the button in the Navbar but**can now also do so on their profile page**
- Using the Switch Theme element in the Navbar now also keeps you on the page you're on instead of redirecting you to the index every time
- The old option for Admins to set themes in the UI Config page of the Admin panel has been changed to **"Set Default Theme"**, giving admins the ability to set which theme will be enabled by default for new users and Guest users (if enabled)

- **COMING SOON:** Ability for users to **select their preferred accent colour** for the UI üé®

### New Translations System üåê ü´∂

- As of **V3.1.3**, **users using CWA in a language other than English will be, by default, notified if the translations for their chosen language are currently incomplete**, with a link to the [CWA Wiki Translations Page](https://github.com/crocodilestick/Calibre-Web-Automated/wiki/Contributing-Translations) where they can quickly and easily contribute the missing translations if desired **(notifications can be disabled in the CWA Settings**)
- I've tried to catch as many CWA specific strings that were previously untranslatable as possible but if you spot any I've missed, please let me know / submit a PR / Issue!
- Added workflow to automatically update the translations status of each language on the translations page of the CWA Wiki

- **Hopefully with these changes, we can make CWA accessible to as many different people in as many different languages as possible!** üåç‚ù§Ô∏è

![CWA Translation Notification System](https://raw.githubusercontent.com/crocodilestick/Calibre-Web-Automated/refs/heads/main/wiki_images/cwa_translation_required.png)

### Major Mobile Dark Mode Overhaul ü¶ö

- Lets be honest, the **Mobile Dark Mode Experience** we inherited from stock Calibre-Web was **ROUGH**
- With **V3.1.3** I've done my best to **overhaul the experience** to be much more enjoyable and visually pleasurable on mobile
- Part of this overhaul includes the a**ddition of an option to CWA Settings page to disable the Dynamic Background Blur Backgrounds**. When enabled (default), mobile dark mode users have the same cover incorporated background blur effect they have on desktop view however this can be computationally expensive depending on any given devices performance, hence the option to disable in the settings.

- **See a few examples of the many improvements made below:**

![CWA Version 3.1.3 - Mobile Dark Mode Overhaul - Homepage](https://raw.githubusercontent.com/crocodilestick/Calibre-Web-Automated/refs/heads/main/README_images/cwa_v3.1.3_dark_mode_homepage.png)
![CWA Version 3.1.3 - Mobile Dark Mode Overhaul - Book View](https://raw.githubusercontent.com/crocodilestick/Calibre-Web-Automated/refs/heads/main/README_images/cwa_v3.1.3_dark_mode_book_view.png)
![CWA Version 3.1.3 - Mobile Dark Mode Overhaul - Edit Book View](https://raw.githubusercontent.com/crocodilestick/Calibre-Web-Automated/refs/heads/main/README_images/cwa_v3.1.3_dark_mode_editbook_view.png)
![CWA Version 3.1.3 - Mobile Dark Mode Overhaul - Tablet Book View](https://raw.githubusercontent.com/crocodilestick/Calibre-Web-Automated/refs/heads/main/README_images/cwa_v3.1.3_dark_mode_book_view_tablet.png)

## Bugfixes üêõ

- Fixed Issue [#496](https://github.com/crocodilestick/Calibre-Web-Automated/issues/496) - book date not updated when overwriting book 
- Fixed Issue [#463](https://github.com/crocodilestick/Calibre-Web-Automated/issues/463) - KoSync webpage shows URL as http://<url>/kosync but plugin is only expecting http://<url>
- Fixed [#470](https://github.com/crocodilestick/Calibre-Web-Automated/issues/470) - Incorrect link to KOReader sync server
- Fixed [#473](https://github.com/crocodilestick/Calibre-Web-Automated/issues/473) - Error when updating metadata 
- Fixed [#475](https://github.com/crocodilestick/Calibre-Web-Automated/issues/475), [#466](https://github.com/crocodilestick/Calibre-Web-Automated/issues/466) - No option for other languages
- Fixed edit users table in dark mode
- Fix dark mobile book view & dark login screen css
- Fixed profile picture positioning mobile
- Fix Kobo auth window being rendered off screen in dark mode
- Fix custom profile picture not being shown in mobile view

## Misc

- Created scripts to automatically manage the SPDX headers of project files and ensure contributors to both CW & CWA are properly recognized for their work
- REFACTOR - Moved root scripts to scripts dir
- Updated to latest Calibre Version [V8.8.0](https://calibre-ebook.com/whats-new)
- Upload permissions are no longer required to upload/change book covers, only edit permissions
- Removed iOS reference kosync_plugin.html as unfortunately, no good KoReader solutions exist on iOS
- Added CWA version to About page
- Disabled ability to reset `calibre-library` location in DB Config settings to prevent user confusion and added an explanation about how CWA handles libraries
- Fixed spacing in admin page headings